query GetTransactionDetails {
  transaction {
    id
    state
    transfers {
      id
      state
      transferReversals {
        id
        state
      }      ...TransferDetails
    }
  }
}

fragment TransferDetails on Transfer {
  id
  createdAt
  total {
    amount
    currency
  }  transferReversals {
    ...TransferReversalDetails
  }
}

fragment TransferReversalDetails on TransferReversal {
  id
  createdAt
  state
  total {
    amount
    currency
  }
  returnedAt
  returnMethod
  resolutions {
    id
    createdAt
    total {
      amount
      currency
    }
  }
}